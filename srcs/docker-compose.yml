version: '3' # TODO quelle version ?

services:
  maria_db:
    build: ./maria_db
    # TODO image: mysql:5.7
    volumes:
      - wordpress_db:/var/wordpress_db # TODO ici ?
    restart: always
      #environment:
      #  MYSQL_ROOT_PASSWORD: pass

  nginx:
    build: ./nginx
    restart: always
      #environment:
      #  MYSQL_ROOT_PASSWORD:

  wordpress:
    depends_on:
      - nginx
      - maria_db 
    build: ./wordpress
    volumes:
      - wordpress_files:/var/wordpress_files # TODO ici ?
    ports:
      - "8000:80"
    restart: always
      #environment:
      #  ENV_VAR: any

volumes:
  wordpress_db: {}
  wordpress_files: {} # TODO ca fait quoi les {} ?

# TODO docker-network "qui fera le lien entre vos containers"
